<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>EAFC Guide — Minimal Cards</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<!-- Poppins (variable) -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

<style>
  :root{
    /* FC26 palette */
    --bg0:#06131A; --bg1:#0A1D28; --line:#133443;
    --text:#EAF6FF; --muted:#9FBBCD;
    --g1:#22E4C6; --g2:#25B6FF; --g3:#9BFF53;
    --brand-grad: linear-gradient(135deg, var(--g2), var(--g1));
    --brand-grad-2: linear-gradient(135deg, var(--g2), var(--g3));

    --radius:18px; --shadow:0 12px 26px rgba(0,0,0,.35);

    /* Card sizing */
    --card-h: 260px;       /* uniform height */
    --art-ratio: 3/4;      /* artwork aspect */
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; color:var(--text);
    font-family:"Poppins",system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Arial;
    font-variation-settings:"wght" 470;
    background:
      radial-gradient(1000px 700px at 15% -10%, rgba(37,182,255,.18), transparent 50%),
      radial-gradient(900px 600px at 90% 0%, rgba(34,228,198,.16), transparent 50%),
      radial-gradient(1200px 900px at 60% 110%, rgba(155,255,83,.08), transparent 60%),
      var(--bg0);
  }

  /* Header (kept lightweight) */
  header{
    position:sticky; top:0; z-index:30;
    backdrop-filter:saturate(1.1) blur(10px);
    background:linear-gradient(180deg, rgba(6,19,26,.92), rgba(6,19,26,.70));
    border-bottom:1px solid var(--line);
  }
  .wrap{max-width:1200px; margin:0 auto; padding:12px 16px; display:flex; gap:10px; align-items:center}
  h1{margin:0; font-size:18px; display:flex; align-items:center; gap:10px}
  .logo{
    width:30px; height:30px; display:grid; place-items:center; border-radius:9px;
    background:var(--brand-grad-2); color:#021118; font-weight:900; box-shadow:var(--shadow)
  }
  .search{
    flex:1; min-width:200px; display:flex; align-items:center; gap:8px;
    background:var(--bg1); padding:10px 12px; border:1px solid var(--line); border-radius:12px
  }
  .search input{width:100%; background:transparent; border:0; color:var(--text); outline:none; font-size:14px}

  main{max-width:1200px; margin:16px auto; padding:0 16px 24px}

  /* ── Grid: 4 per row on desktop, responsive below ───────── */
  .grid{display:grid; gap:16px}
  @media (min-width:1200px){ .grid{grid-template-columns:repeat(4,1fr)} }
  @media (min-width:900px) and (max-width:1199px){ .grid{grid-template-columns:repeat(3,1fr)} }
  @media (min-width:600px) and (max-width:899px){ .grid{grid-template-columns:repeat(2,1fr)} }
  @media (max-width:599px){ .grid{grid-template-columns:1fr} }

  /* ── Minimal card ─────────────────────────────────────────── */
  .card{
    height:var(--card-h);
    border:1px solid var(--line); border-radius:16px; background:rgba(10,29,40,.94);
    box-shadow:var(--shadow); overflow:hidden; cursor:pointer;
    display:grid; grid-template-rows:1fr;
    transition: transform .12s ease, box-shadow .12s ease;
  }
  .card:focus-visible{outline:2px solid var(--g2); outline-offset:2px}
  .card:hover{ transform: translateY(-3px); box-shadow:0 14px 30px rgba(0,0,0,.45); }

  .art{
    position:relative; padding:12px; height:100%; display:grid; align-items:center; justify-items:center;
  }
  .art-inner{
    position:relative; width:100%; height:100%; border-radius:14px; overflow:hidden;
    aspect-ratio: var(--art-ratio);
    background:radial-gradient(160px 120px at 30% 0%, rgba(255,255,255,.12), transparent 45%), #131017;
    border:1px solid rgba(255,255,255,.10);
  }
  /* default/global frame; per-card can override inline via style="--frame-url:url(...)" */
  .art-inner::before{
    content:""; position:absolute; inset:0; border-radius:14px;
    background-image: var(--frame-url, none); background-size:cover; background-position:center; background-repeat:no-repeat; opacity:.95;
    pointer-events:none;
  }

  /* rating badge */
  .rating{
    position:absolute; left:16px; top:16px;
    width:58px; height:58px; border-radius:14px; background:var(--brand-grad-2); padding:3px;
    box-shadow:inset 0 0 0 2px rgba(255,255,255,.18)
  }
  .rating > b{
    width:100%; height:100%; display:grid; place-items:center; border-radius:10px;
    background:radial-gradient(120px 120px at 30% 10%, rgba(255,255,255,.18), transparent 40%), #0E0B11;
    font-weight:900; font-size:22px; letter-spacing:.5px
  }

  /* Modal */
  .modal{position:fixed; inset:0; display:none; place-items:center; background:rgba(0,0,0,.55); backdrop-filter:blur(6px); z-index:60}
  .modal.open{display:grid}
  .card-modal{width:min(680px,92vw); background:var(--bg1); border:1px solid var(--line); border-radius:18px; box-shadow:var(--shadow)}
  .card-modal header{display:flex; align-items:center; justify-content:space-between; padding:12px 16px; border-bottom:1px solid var(--line)}
  .x{all:unset; cursor:pointer; display:inline-grid; place-items:center; padding:8px 10px; border-radius:12px; background:#0F2430; border:1px solid var(--line); color:var(--text)}
  .modal-body{padding:16px}
  .poschip{display:inline-block; font-size:12px; padding:4px 8px; border-radius:999px; background:#0b1f29; border:1px solid var(--line); color:#CFEAFA; font-weight:700}
  .statbar{height:8px; background:#0c1f2a; border:1px solid var(--line); border-radius:999px; overflow:hidden}
  .statbar>i{display:block; height:100%; background:linear-gradient(90deg,var(--g1),var(--g2)); width:0%}
  .muted{color:var(--muted)}
</style>
</head>
<body>
<header>
  <div class="wrap">
    <h1><span class="logo">FC</span> EAFC Guide</h1>
    <div class="search" role="search">
      <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M10 18a8 8 0 1 1 5.292-14.036A8 8 0 0 1 10 18m11.707 2.293l-5.387-5.387A9.956 9.956 0 0 0 20 10a10 10 0 1 0-10 10a9.956 9.956 0 0 0 4.906-1.68l5.387 5.387z"/></svg>
      <input id="q" placeholder="Search players…" inputmode="search" />
    </div>
  </div>
</header>

<main>
  <section class="grid" id="grid"></section>
</main>

<!-- Modal -->
<div class="modal" id="modal" aria-hidden="true">
  <div class="card-modal">
    <header>
      <h3 style="margin:0; font-weight:800" id="modalTitle">Player</h3>
      <button class="x" id="closeModal">✕</button>
    </header>
    <div class="modal-body" id="modalBody"></div>
  </div>
</div>

<script>
/* ========= CONFIG: set your global frame file here ========= */
const CONFIG = {
  frameURL: "assets/frame_default.png"   // <- put the PNG/JPG in /assets/ and change this path
};
document.documentElement.style.setProperty("--frame-url", `url("${CONFIG.frameURL}")`);

/* ========= DEMO DATA (replace with your live feed) ========= */
const releases = [
  // per-card frame can override global via `frame:"assets/festival_frame.png"`
  {id:112, rating:99, name:"Ronaldinho", pos:"LW", club:"Icons", nation:"Brazil", promo:"Icon Moments", sm:5, wf:5, releasedAt:daysAgo(7), pop:99, frame:"assets/icon_frame.png"},
  {id:103, rating:98, name:"Luis Díaz", pos:"LW", club:"Liverpool", nation:"Colombia", promo:"Festival", sm:5, wf:5, releasedAt:daysAgo(2), pop:96, frame:"assets/festival_frame.png"},
  {id:101, rating:98, name:"Bakayoko", pos:"RW", club:"PSV", nation:"Belgium", promo:"Festival", sm:5, wf:5, releasedAt:daysAgo(0.3), pop:95, frame:"assets/festival_frame.png"},
  {id:105, rating:98, name:"Cherki", pos:"CAM", club:"Lyon", nation:"France", promo:"Festival", sm:5, wf:5, releasedAt:daysAgo(3), pop:92, frame:"assets/festival_frame.png"},
  {id:104, rating:98, name:"Justin Kluivert", pos:"ST", club:"Bournemouth", nation:"Netherlands", promo:"Festival", sm:5, wf:5, releasedAt:daysAgo(2), pop:89, frame:"assets/festival_frame.png"},
  {id:102, rating:98, name:"Noa Lang", pos:"LW", club:"PSV", nation:"Netherlands", promo:"Festival", sm:5, wf:5, releasedAt:daysAgo(1), pop:91, frame:"assets/festival_frame.png"}
];

const players = releases.map(r => ({
  id:r.id, name:r.name, position:r.pos, club:r.club, nation:r.nation,
  overall:r.rating, pace:90, shooting:88, passing:87, dribbling:93, defending:50, physical:80,
  skillMoves:r.sm, weakFoot:r.wf, workRate:"High/Medium", foot:"Right"
}));

/* ========= STATE ========= */
let state = { q:"" };

/* ========= HELPERS ========= */
const $ = s => document.querySelector(s);
const $$ = s => document.querySelectorAll(s);
function esc(s){return String(s??"").replace(/[&<>"']/g,m=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"}[m]))}
function daysAgo(d){ const t=new Date(); t.setTime(t.getTime()-d*24*3600*1000); return t.toISOString(); }
function timeAgo(iso){ const sec=(Date.now()-new Date(iso).getTime())/1000; const d=Math.floor(sec/86400), h=Math.floor((sec%86400)/3600); if(d>=1) return d+" days ago"; if(h>=1) return h+" hours ago"; return "Just now"; }
function clamp(n,a,b){return Math.max(a,Math.min(b,n))}

/* ========= RENDER GRID ========= */
function render(){
  const grid=$("#grid");
  const q=state.q;
  const items = releases.filter(r=>{
    if(!q) return true;
    const hay=(r.name+" "+r.club+" "+r.nation+" "+r.promo).toLowerCase();
    return hay.includes(q);
  });

  grid.innerHTML = items.map(r=>{
    const frameStyle = r.frame ? `--frame-url:url('${r.frame}')` : "";
    return `
      <article class="card" tabindex="0" role="button" aria-label="${esc(r.name)}" data-id="${r.id}">
        <div class="art">
          <div class="art-inner" style="${frameStyle}">
            <div class="rating"><b>${r.rating}</b></div>
          </div>
        </div>
      </article>
    `;
  }).join("");

  $$("#grid .card").forEach(el=>{
    el.addEventListener("click", openFromCard);
    el.addEventListener("keydown", (e)=>{ if(e.key==="Enter"||e.key===" ") openFromCard.call(el,e); });
  });
}
function openFromCard(){
  const id=+this.dataset.id;
  const r=releases.find(x=>x.id===id);
  const p=players.find(x=>x.id===id);
  $("#modalTitle").textContent = r.name;
  $("#modalBody").innerHTML = `
    <div style="display:grid; grid-template-columns:140px 1fr; gap:14px; align-items:start">
      <div>
        <div class="art-inner" style="--frame-url:url('${esc(r.frame||CONFIG.frameURL)}'); width:140px; aspect-ratio:var(--art-ratio)"></div>
      </div>
      <div>
        <div style="display:flex; gap:8px; align-items:center; flex-wrap:wrap">
          <span class="poschip">${esc(r.pos)}</span>
          <span class="muted">${esc(r.club)} • ${esc(r.nation)}</span>
          <span class="muted" style="margin-left:auto">${esc(timeAgo(r.releasedAt))}</span>
        </div>
        <div style="margin:12px 0; display:grid; grid-template-columns:1fr 1fr; gap:10px">
          ${detail("Overall", p.overall)}
          ${detail("Pace", p.pace)}
          ${detail("Shooting", p.shooting)}
          ${detail("Passing", p.passing)}
          ${detail("Dribbling", p.dribbling)}
          ${detail("Defending", p.defending)}
          ${detail("Physical", p.physical)}
        </div>
        <div class="muted">Promo: ${esc(r.promo)} • SM ${r.sm}★ • WF ${r.wf}★</div>
      </div>
    </div>
  `;
  $("#modal").classList.add("open"); $("#modal").setAttribute("aria-hidden","false");
}
function detail(label,val){
  val = clamp(+val||0,1,99);
  return `<div><div class="muted" style="font-size:12px">${label}</div><div style="display:flex; gap:8px; align-items:center"><b>${val}</b><div class="statbar" style="flex:1"><i style="width:${val}%"></i></div></div></div>`;
}

/* ========= SEARCH ========= */
$("#q").addEventListener("input", e=>{ state.q = e.target.value.trim().toLowerCase(); render(); });

/* ========= MODAL ========= */
$("#closeModal").addEventListener("click", closeModal);
$("#modal").addEventListener("click", e=>{ if(e.target.id==="modal") closeModal(); });
window.addEventListener("keydown", e=>{ if(e.key==="Escape") closeModal(); });
function closeModal(){ $("#modal").classList.remove("open"); $("#modal").setAttribute("aria-hidden","true"); }

/* ========= BOOT ========= */
render();
</script>
</body>
</html>
